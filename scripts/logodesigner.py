""" svg 格式的logo 转成模板的操作
"""
import cairosvg
import cv2
import numpy as np
from PIL import Image
from lxml import etree
from pyrect import Rect

from postprocessor.convert import p2c


def split_svg(svg_string):
    """
    分离svg图片
    :param svg_string:
    :return:
    """
    name = '//g[@class="tp-name"]'
    icon = '//svg[@class="image-svg-svg primary"]'
    slogan = '//g[@class="tp-slogan"]'
    
    name_img = svg2png(remove_nodes(svg_string, nodes=[icon, slogan]))
    slogan_img = svg2png(remove_nodes(svg_string, nodes=[icon, name]))
    icon_img = svg2png(remove_nodes(svg_string, nodes=[name, slogan]))
    return name_img, slogan_img, icon_img


def remove_nodes(svg_string, nodes):
    """
    删除svg一些节点
    :param svg_string: str svg
    :param nodes: List
    :return: str
    """
    html = etree.HTML(svg_string)
    svg = html.xpath('//svg')[0]
    for node in nodes:
        name = svg.xpath(node)[0]
        name.getparent().remove(name)
    result = etree.tostring(svg).decode('utf-8').replace('viewbox', 'viewBox')
    return result


def svg2png(svg_string, png='output.png'):
    cairosvg.svg2png(svg_string, write_to=png)
    return Image.open(png)


def bbox(img):
    img = p2c(img)
    gray = cv2.cvtColor(img, cv2.COLOR_BGRA2GRAY)
    _, bin = cv2.threshold(gray, 250, 255, cv2.THRESH_BINARY_INV)
    ys, xs = np.where(bin == 255)
    box = np.min(xs), np.min(ys), np.max(xs), np.max(ys)
    return box


def union_bbox(boxes):
    l = min(b[0] for b in boxes)
    r = max(b[2] for b in boxes)
    t = min(b[1] for b in boxes)
    b = max(b[3] for b in boxes)
    return (l, t, r, b)


def box2rect(box, ori=(0, 0)):
    x = int(box[0] - ori[0])
    y = int(box[1] - ori[1])
    w = int(box[2] - box[0])
    h = int(box[3] - box[1])
    return Rect(x, y, w, h)


if __name__ == '__main__':
    # from multilang.template import Template, Text
    # from multifaker import Faker
    
    # svg_string = """
    # <svg data-v-2cb57da0="" version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 340.000000 250.000000" preserveAspectRatio="xMidYMid meet" color-interpolation-filters="sRGB" style="margin: auto;"><rect data-v-2cb57da0="" x="0" y="0" width="100%" height="100%" fill="#5e2750" fill-opacity="1" class="background"></rect> <rect data-v-2cb57da0="" x="0" y="0" width="100%" height="100%" fill="url(#watermark)" fill-opacity="1" class="watermarklayer"></rect> <g data-v-2cb57da0="" fill="#feffff" class="singlesvg" transform="translate(21.218002319335938,88.96735382080078)"><g class="tp-name" transform="translate(0,0)"><g><rect fill-opacity="0" stroke="#feffff" stroke-width="2" x="0" y="0" height="57.11279549718574" width="57.11279549718574" rx="28.55639774859287"></rect> <g data-gra="path-name" transform="translate(10.326398206356544,6)"><g transform="scale(1)"><path d="M16.98-37.53L24.34-37.53L24.34-29.91L38.65-29.91L38.65-21.44L2.67-21.44L2.67-29.91L16.98-29.91L16.98-37.53ZM9.32 5.44L2.41 2.01L12.62-18.63L19.53-15.20L9.32 5.44ZM31.92 5.22L22.07-15.78L29.06-19.08L38.87 1.92L31.92 5.22Z" transform="translate(-2.407204502814259, 38.6044277673546)"></path></g></g></g><g transform="translate(60.11279549718574,0)" mask="url(#ae8acd1d-9925-49e2-80a5-5f44956f081a)"><rect data-gra="graph-name" stroke="#feffff" stroke-width="2" x="0" y="0" height="57.11279549718574" width="57.11279549718574" rx="28.55639774859287"></rect> <g data-gra="path-name" fill="#5e2750" transform="translate(8.206397367123145,6)"><g transform="scale(1)"><path d="M17.03 6.20L17.03-20.82L24.12-20.82L24.12 6.20L17.03 6.20ZM17.34-38.29L23.85-38.29L23.85-38.25L40.97-20.42L35.13-14.84L20.77-29.82L6.20-15.25L0.27-21.17L17.34-38.29Z" transform="translate(-0.2674671669793621, 38.6044277673546)"></path></g></g></g><g transform="translate(120.22559099437149,0)"><rect fill-opacity="0" stroke="#feffff" stroke-width="2" x="0" y="0" height="57.11279549718574" width="57.11279549718574" rx="28.55639774859287"></rect> <g data-gra="path-name" transform="translate(10.016396833065528,6)"><g transform="scale(1)"><path d="M13.69-1.07L17.96-1.07L17.96-4.99L2.10-4.99L2.10-12.79L17.96-12.79L17.96-15.20L24.12-17.61L7.67-17.61L7.67-22.07L3.34-22.07L3.34-35.39L16.76-35.39L16.76-38.38L23.98-38.38L23.98-35.39L37.89-35.39L37.89-22.16L34.24-22.16L34.24-17.61L24.83-13.91L24.83-12.79L39.18-12.79L39.18-4.99L24.83-4.99L24.83 6.29L13.69 6.29L13.69-1.07ZM31.43-28.08L9.67-28.08L9.67-24.56L31.43-24.56L31.43-28.08Z" transform="translate(-2.0951594746716697, 38.6044277673546)"></path></g></g></g><g transform="translate(180.33838649155723,0)" mask="url(#b72e103d-196c-4b63-bd13-58338dd8c514)"><rect data-gra="graph-name" stroke="#feffff" stroke-width="2" x="0" y="0" height="57.11279549718574" width="57.11279549718574" rx="28.55639774859287"></rect> <g data-gra="path-name" fill="#5e2750" transform="translate(9.011397672298926,6)"><g transform="scale(1)"><path d="M3.61-38.38L10.16-38.38L10.16-10.97L15.42-17.61L21.49-12.84L7.13 5.30L1.07 0.53L3.61-2.72L3.61-38.38ZM19.61-20.51L12.30-33.17L18.10-36.51L25.41-23.85L19.61-20.51ZM38.65-36.29L31.07-11.50L40.16 1.11L34.15 5.44L28.35-2.54L25.59 6.51L17.96 4.19L31.03-38.60L38.65-36.29Z" transform="translate(-1.0698686679174485, 38.6044277673546)"></path></g></g></g><g transform="translate(240.45118198874297,0)"><rect fill-opacity="0" stroke="#feffff" stroke-width="2" x="0" y="0" height="57.11279549718574" width="57.11279549718574" rx="28.55639774859287"></rect> <g data-gra="path-name" transform="translate(11.346398664120215,6)"><g transform="scale(1)"><path d="M20.77-38.60L26.88-36.64L25.50-32.45L37.85-32.45L37.85 6.51L26.57 6.51L26.57-0.71L31.47-0.71L31.47-6.73L28.08-4.15L19.79-14.84L15.91-2.99L9.85-4.95L16.27-24.70L9.76-24.70L9.76 6.51L3.43 6.51L3.43-32.45L18.77-32.45L20.77-38.60ZM31.47-24.70L23.00-24.70L22.33-22.69L31.47-10.97L31.47-24.70Z" transform="translate(-3.4324953095684805, 38.6044277673546)"></path></g></g></g></g> <g data-gra="path-slogan" fill-rule="" class="tp-slogan" fill="#feffff" transform="translate(92.04199981689453,63.112796783447266)"><!----> <!----> <g transform="scale(1, 1)"><g transform="scale(1)"><path d="M5.67-7.13L5.63-7.13L3.66 0L2.44 0L0.19-8.58L1.41-8.58L3.05-1.59L3.09-1.59L5.02-8.58L6.28-8.58L8.20-1.59L8.25-1.59L9.84-8.58L11.11-8.58L8.86 0L7.64 0L5.67-7.13ZM12.38-8.58L13.55-8.58L13.55 0L12.38 0L12.38-8.58ZM17.72-7.59L14.81-7.59L14.81-8.58L21.75-8.58L21.75-7.59L18.84-7.59L18.84 0L17.72 0L17.72-7.59ZM23.95-5.06L28.45-5.06L28.45-8.58L29.63-8.58L29.63 0L28.45 0L28.45-3.98L23.95-3.98L23.95 0L22.78 0L22.78-8.58L23.95-8.58L23.95-5.06ZM31.59-8.58L32.77-8.58L32.77 0L31.59 0L31.59-8.58ZM36.14-8.58L40.45-1.64L40.45-8.58L41.58-8.58L41.58 0L40.27 0L35.91-6.94L35.86-6.94L35.86 0L34.73 0L34.73-8.58L36.14-8.58ZM52.97-6.09L52.97-6.09L51.89-6.09Q51.80-7.73 49.73-7.83L49.73-7.83Q47.81-7.78 47.81-6.33L47.81-6.33Q47.81-5.39 48.84-5.25L48.84-5.25L51.28-4.69Q53.20-4.22 53.20-2.34L53.20-2.34Q53.16 0.05 49.83 0.14L49.83 0.14Q48 0.14 47.25-0.61L47.25-0.61Q46.31-1.31 46.36-2.77L46.36-2.77L47.48-2.77Q47.53-0.80 49.83-0.75L49.83-0.75Q52.08-0.80 52.13-2.20L52.13-2.20Q52.31-3.38 50.25-3.75L50.25-3.75L48.47-4.13Q46.64-4.64 46.64-6.19L46.64-6.19Q46.78-8.72 49.64-8.81L49.64-8.81Q52.88-8.81 52.97-6.09ZM54.84-8.58L56.02-8.58L56.02 0L54.84 0L54.84-8.58ZM64.73-8.58L61.83-4.41L64.88 0L63.42 0L61.08-3.52L58.73 0L57.33 0L60.42-4.41L57.52-8.58L58.97-8.58L61.13-5.30L63.33-8.58L64.73-8.58ZM74.06-7.13L74.02-7.13L72.05 0L70.83 0L68.58-8.58L69.80-8.58L71.44-1.59L71.48-1.59L73.41-8.58L74.67-8.58L76.59-1.59L76.64-1.59L78.23-8.58L79.50-8.58L77.25 0L76.03 0L74.06-7.13ZM87.38-4.27L87.38-4.27Q87.19-7.64 84.38-7.83L84.38-7.83Q81.52-7.69 81.38-4.27L81.38-4.27Q81.52-0.94 84.38-0.80L84.38-0.80Q87.19-0.98 87.38-4.27ZM88.55-4.27L88.55-4.27Q88.27 0 84.38 0.14L84.38 0.14Q80.44 0 80.16-4.27L80.16-4.27Q80.39-8.72 84.38-8.81L84.38-8.81Q88.27-8.67 88.55-4.27ZM94.03-3.70L91.22-3.70L91.22 0L90.05 0L90.05-8.58L94.03-8.58Q96.89-8.58 96.89-6.28L96.89-6.28Q96.89-4.88 95.67-4.22L95.67-4.22Q96.70-3.94 96.70-2.58L96.70-2.58L96.80-1.03Q96.75-0.38 97.22-0.19L97.22-0.19L97.22 0L95.77 0Q95.63-0.61 95.58-2.16L95.58-2.16Q95.63-3.70 94.03-3.70L94.03-3.70ZM94.13-7.64L91.22-7.64L91.22-4.69L93.94-4.69Q95.67-4.69 95.67-6.19L95.67-6.19Q95.67-7.64 94.13-7.64L94.13-7.64ZM102.05 0L98.58 0L98.58-8.58L102.09-8.58Q105.56-8.39 105.70-4.41L105.70-4.41Q105.52-0.09 102.05 0L102.05 0ZM101.91-7.64L99.75-7.64L99.75-0.98L102-0.98Q104.44-1.13 104.53-4.31L104.53-4.31Q104.48-7.55 101.91-7.64L101.91-7.64ZM113.44-6.09L113.44-6.09L112.36-6.09Q112.27-7.73 110.20-7.83L110.20-7.83Q108.28-7.78 108.28-6.33L108.28-6.33Q108.28-5.39 109.31-5.25L109.31-5.25L111.75-4.69Q113.67-4.22 113.67-2.34L113.67-2.34Q113.63 0.05 110.30 0.14L110.30 0.14Q108.47 0.14 107.72-0.61L107.72-0.61Q106.78-1.31 106.83-2.77L106.83-2.77L107.95-2.77Q108-0.80 110.30-0.75L110.30-0.75Q112.55-0.80 112.59-2.20L112.59-2.20Q112.78-3.38 110.72-3.75L110.72-3.75L108.94-4.13Q107.11-4.64 107.11-6.19L107.11-6.19Q107.25-8.72 110.11-8.81L110.11-8.81Q113.34-8.81 113.44-6.09Z" transform="translate(-0.1875, 8.8125)"></path></g></g></g></g><mask id="ae8acd1d-9925-49e2-80a5-5f44956f081a"><rect data-gra="graph-name" stroke="white" stroke-width="2" x="0" y="0" height="57.11279549718574" width="57.11279549718574" rx="28.55639774859287" fill="white"></rect> <g data-gra="path-name" transform="translate(8.206397367123145,6)" fill="black"><g transform="scale(1)"><path d="M17.03 6.20L17.03-20.82L24.12-20.82L24.12 6.20L17.03 6.20ZM17.34-38.29L23.85-38.29L23.85-38.25L40.97-20.42L35.13-14.84L20.77-29.82L6.20-15.25L0.27-21.17L17.34-38.29Z" transform="translate(-0.2674671669793621, 38.6044277673546)"></path></g></g></mask><mask id="b72e103d-196c-4b63-bd13-58338dd8c514"><rect data-gra="graph-name" stroke="white" stroke-width="2" x="0" y="0" height="57.11279549718574" width="57.11279549718574" rx="28.55639774859287" fill="white"></rect> <g data-gra="path-name" transform="translate(9.011397672298926,6)" fill="black"><g transform="scale(1)"><path d="M3.61-38.38L10.16-38.38L10.16-10.97L15.42-17.61L21.49-12.84L7.13 5.30L1.07 0.53L3.61-2.72L3.61-38.38ZM19.61-20.51L12.30-33.17L18.10-36.51L25.41-23.85L19.61-20.51ZM38.65-36.29L31.07-11.50L40.16 1.11L34.15 5.44L28.35-2.54L25.59 6.51L17.96 4.19L31.03-38.60L38.65-36.29Z" transform="translate(-1.0698686679174485, 38.6044277673546)"></path></g></g></mask><defs v-gra="od"></defs></svg>
    # """
    svg_string = """<svg data-v-6805eed4="" version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 340.000000 250.000000" preserveAspectRatio="xMidYMid meet" color-interpolation-filters="sRGB" style="margin: auto;">   <g data-v-6805eed4="" class="iconmbgsvg" transform="translate(101.25,56.25)"><g fill="#FFFFFF" hollow-target="textNormalTran"><g opacity="1"><g><rect fill="#FFFFFF" fill-opacity="0" stroke-width="2" x="0" y="0" width="137.5" height="137.5" class="image-rect"></rect> <svg filter="url(#colors5117909923)" x="0" y="0" width="137.5" height="137.5" filtersec="colorsf2470484628" class="image-svg-svg primary" style="overflow: visible;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="5 5 90 90" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M75.921,5H24.305C13.752,5,5,13.752,5,24.305v51.616C5,86.472,13.752,95,24.305,95h51.616C86.472,95,95,86.472,95,75.921  V24.305C95,13.752,86.472,5,75.921,5z"></path></svg></svg> <defs><filter id="colors5117909923"><feColorMatrix type="matrix" values="0 0 0 0 0.59765625  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0" class="icon-fecolormatrix"></feColorMatrix></filter> <filter id="colorsf2470484628"><feColorMatrix type="matrix" values="0 0 0 0 0.99609375  0 0 0 0 0.99609375  0 0 0 0 0.99609375  0 0 0 1 0" class="icon-fecolormatrix"></feColorMatrix></filter> <filter id="colorsb2117838310"><feColorMatrix type="matrix" values="0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0" class="icon-fecolormatrix"></feColorMatrix></filter></defs></g></g> <g transform="translate(24.386276245117188,40.82026290893555)"><g data-gra="path-name" fill-rule="" class="tp-name" transform="translate(0,0)"><g transform="scale(1)"><g><path d="M10.8-48.62L10.8-48.62Q11.8-48.91 12.15-48.09 12.51-47.26 12.57-44.25L12.57-44.25Q12.69-41.3 12.83-40 12.98-38.7 13.63-38.35 14.28-38 15.75-37.76L15.75-37.76Q17.11-37.52 17.52-37.26 17.94-36.99 17.94-36.34L17.94-36.34Q17.94-35.64 17.52-35.37 17.11-35.11 15.69-34.87L15.69-34.87Q14.28-34.63 13.66-34.28 13.04-33.93 12.86-32.83 12.69-31.74 12.63-29.38L12.63-29.38Q12.63-26.61 12.77-25.4 12.92-24.19 13.57-24.04 14.22-23.9 15.64-24.25L15.64-24.25Q16.99-24.54 17.46-24.34 17.94-24.13 17.94-23.13L17.94-23.13Q17.94-22.6 17.61-22.33 17.29-22.07 15.58-20.95L15.58-20.95Q14.57-20.3 14.01-19.62 13.45-18.94 13.16-17.67 12.86-16.4 12.74-14.01 12.63-11.62 12.57-7.55L12.57-7.55Q12.51-3.42 12.39-1.33 12.27 0.77 11.95 1.71 11.62 2.66 10.92 3.3L10.92 3.3Q10.27 3.95 8.91 4.25 7.55 4.54 6.34 4.4 5.13 4.25 4.78 3.66L4.78 3.66Q4.43 2.95 4.96 2.51 5.49 2.06 7.02 1.77L7.02 1.77Q8.08 1.53 8.67 1.33 9.26 1.12 9.5 0.24 9.74-0.65 9.74-2.77 9.74-4.9 9.74-8.97L9.74-8.97Q9.74-12.74 9.65-14.75 9.56-16.76 9.2-17.49 8.85-18.23 7.99-18.11 7.14-18 5.55-17.52L5.55-17.52Q3.89-16.99 3.39-16.99 2.89-16.99 2.6-17.58L2.6-17.58Q2.12-18.41 2.54-18.94 2.95-19.47 4.48-20.06L4.48-20.06Q6.37-20.89 7.46-21.48 8.55-22.07 9.03-22.92 9.5-23.78 9.62-25.25 9.74-26.73 9.68-29.26L9.68-29.26Q9.62-31.62 9.38-32.75 9.15-33.87 8.35-34.25 7.55-34.63 5.72-34.87L5.72-34.87Q3.95-35.11 3.39-35.37 2.83-35.64 2.83-36.29L2.83-36.29Q2.83-36.99 3.39-37.26 3.95-37.52 5.78-37.76L5.78-37.76Q7.61-38 8.41-38.35 9.2-38.7 9.44-39.88 9.68-41.06 9.74-43.66L9.74-43.66Q9.79-45.73 9.88-46.76 9.97-47.79 10.18-48.14 10.38-48.5 10.8-48.62ZM24.07-45.37L24.07-45.37Q24.72-45.37 26.26-45.4 27.79-45.43 29.74-45.43 31.68-45.43 33.63-45.43 35.58-45.43 37.08-45.4 38.59-45.37 39.23-45.37L39.23-45.37Q42.54-45.31 43.69-44.99 44.84-44.66 44.84-43.9L44.84-43.9Q44.84-43.19 44.01-42.98 43.19-42.78 40.41-42.66L40.41-42.66Q36.76-42.54 34.75-42.36 32.75-42.19 31.74-41.54 30.74-40.89 30.09-39.29 29.44-37.7 28.44-34.75L28.44-34.75Q27.44-31.74 27.02-30.18 26.61-28.62 27.17-27.97 27.73-27.32 29.68-27.17 31.62-27.02 35.34-26.9L35.34-26.9Q38.35-26.85 40.03-26.52 41.71-26.2 42.48-25.05 43.25-23.9 43.45-21.33 43.66-18.76 43.72-14.16L43.72-14.16Q43.84-5.25 43.6-1.12 43.37 3.01 42.72 3.66L42.72 3.66Q41.42 4.84 40.89 2.71L40.89 2.71Q40.65 1.59 40 1.09 39.35 0.59 37.58 0.44 35.81 0.3 32.16 0.35L32.16 0.35Q29.38 0.41 28.05 0.56 26.73 0.71 26.26 1.18 25.78 1.65 25.55 2.66L25.55 2.66Q25.31 3.84 25.02 4.19 24.72 4.54 24.13 4.37L24.13 4.37Q23.6 4.25 23.31 3.72 23.01 3.19 22.86 1.71 22.71 0.24 22.66-2.6 22.6-5.43 22.6-10.15L22.6-10.15Q22.6-14.16 22.57-16.28 22.54-18.41 22.36-19.09 22.18-19.77 21.77-19.38 21.36-19 20.65-17.94L20.65-17.94Q18.64-15.05 17.79-14.31 16.93-13.57 16.34-14.16L16.34-14.16Q15.81-14.69 16.11-15.55 16.4-16.4 17.88-18.94L17.88-18.94Q24.19-29.56 26.08-37.82L26.08-37.82Q26.61-40 26.52-40.98 26.43-41.95 25.25-42.24 24.07-42.54 21.24-42.66L21.24-42.66Q19.59-42.78 19.09-42.92 18.59-43.07 18.47-43.6L18.47-43.6Q18.41-44.55 19.59-44.93 20.77-45.31 24.07-45.37ZM36.93-23.9L36.93-23.9Q36.64-23.9 35.72-23.92 34.81-23.95 33.69-23.95 32.57-23.95 31.62-23.95 30.68-23.95 30.27-23.95L30.27-23.95Q28.67-23.84 27.73-23.48 26.79-23.13 26.31-22.21 25.84-21.3 25.69-19.44 25.55-17.58 25.49-14.46L25.49-14.46Q25.43-10.21 25.61-7.79 25.78-5.37 26.49-4.25 27.2-3.13 28.79-2.86 30.39-2.6 33.22-2.6L33.22-2.6Q35.99-2.6 37.58-2.86 39.18-3.13 39.88-4.25 40.59-5.37 40.77-7.79 40.95-10.21 40.89-14.51L40.89-14.51Q40.83-18.53 40.56-20.41 40.3-22.3 39.5-22.98 38.7-23.66 36.93-23.9ZM76.94-48.56L76.94-48.56Q77.29-48.68 77.74-48.65 78.18-48.62 78.41-48.38L78.41-48.38Q78.65-48.2 78.77-47.82 78.89-47.44 79-46.32L79-46.32Q79.24-44.96 79.53-44.37 79.83-43.78 80.83-43.63 81.84-43.48 84.08-43.37L84.08-43.37Q86.73-43.31 87.41-43.04 88.09-42.78 88.09-41.95L88.09-41.95Q88.09-41.12 87.44-40.89 86.79-40.65 84.14-40.53L84.14-40.53Q81.9-40.47 80.83-40.27 79.77-40.06 79.48-39.5 79.18-38.94 79.24-37.76L79.24-37.76Q79.3-36.7 79.65-36.2 80.01-35.7 81.22-35.52 82.43-35.34 85.02-35.22L85.02-35.22Q87.21-35.16 88.27-34.96 89.33-34.75 89.68-34.28 90.04-33.81 90.1-32.86L90.1-32.86Q90.1-32.27 89.83-31.21 89.56-30.15 89.12-29.03 88.68-27.91 88.18-27.02 87.68-26.14 87.32-25.84L87.32-25.84Q86.73-25.43 86.08-25.87 85.44-26.31 85.49-27.08L85.49-27.08Q85.55-27.38 85.67-27.79 85.79-28.2 86.2-29.5L86.2-29.5Q86.5-30.56 86.44-31.12 86.38-31.68 85.46-31.95 84.55-32.21 82.31-32.3 80.07-32.39 76-32.39L76-32.39Q71.87-32.45 69.89-32.57 67.91-32.69 67.29-33.04 66.67-33.39 66.67-34.1L66.67-34.1Q66.67-34.57 66.97-34.78 67.26-34.99 68.33-35.11 69.39-35.22 71.69-35.28L71.69-35.28Q73.52-35.34 74.4-35.52 75.29-35.7 75.58-36.2 75.88-36.7 75.94-37.7L75.94-37.7Q76.05-39.35 75.46-39.88 74.87-40.41 72.87-40.47L72.87-40.47Q70.63-40.59 69.65-40.68 68.68-40.77 68.47-41.06 68.27-41.36 68.27-41.95L68.27-41.95Q68.27-42.72 68.71-42.98 69.15-43.25 70.63-43.31L70.63-43.31Q72.87-43.42 73.55-43.48 74.23-43.54 74.46-43.6L74.46-43.6Q75.29-43.78 75.61-44.25 75.94-44.72 76.11-46.2L76.11-46.2Q76.29-47.55 76.44-47.97 76.59-48.38 76.94-48.56ZM59.24-48.32L59.24-48.32Q59.48-48.38 59.83-48.32L59.83-48.32Q60.3-48.2 60.54-47.7 60.77-47.2 60.86-45.81 60.95-44.43 61.01-41.65L61.01-41.65Q61.07-38.17 61.16-36.58 61.25-34.99 61.6-34.37 61.95-33.75 62.72-33.28L62.72-33.28Q63.78-32.69 63.72-31.74L63.72-31.74Q63.66-30.98 63.1-30.74 62.54-30.5 60.71-30.39L60.71-30.39Q60.12-30.33 59.33-30.33 58.53-30.33 57.94-30.27L57.94-30.27Q56.23-30.21 55.43-29.97 54.64-29.74 54.37-29.09 54.11-28.44 53.99-27.08L53.99-27.08Q53.87-24.96 54.05-23.92 54.22-22.89 55.08-22.51 55.94-22.13 57.71-22.01L57.71-22.01Q59.59-21.89 60.6-21.59 61.6-21.3 62.04-20.15 62.48-19 62.6-16.4 62.72-13.81 62.78-9.09L62.78-9.09Q62.84-3.36 62.72-0.47 62.6 2.42 62.31 3.42 62.01 4.43 61.36 4.43L61.36 4.43Q60.95 4.43 60.68 4.07 60.42 3.72 60.27 2.57 60.12 1.42 60.07-0.94 60.01-3.3 59.95-7.26L59.95-7.26Q59.89-11.21 59.8-13.51 59.71-15.81 59.39-16.93 59.06-18.05 58.47-18.38 57.88-18.7 56.88-18.7L56.88-18.7Q55.7-18.7 55.05-18.23 54.4-17.76 54.02-16.17 53.63-14.57 53.22-11.15L53.22-11.15Q51.22 5.9 48.97 3.95L48.97 3.95Q48.68 3.72 48.59 3.22 48.5 2.71 48.65 1.45 48.8 0.18 49.15-2.24L49.15-2.24Q49.74-5.96 50.09-9.15 50.45-12.33 50.65-15.58 50.86-18.82 50.95-22.74 51.04-26.67 51.04-31.92L51.04-31.92Q51.04-37.23 51.1-40.33 51.16-43.42 51.3-44.93 51.45-46.43 51.78-46.91 52.1-47.38 52.63-47.38L52.63-47.38Q53.16-47.38 53.4-46.91 53.63-46.43 53.75-44.93 53.87-43.42 53.87-40.36L53.87-40.36Q53.93-37.29 54.11-35.78 54.28-34.28 54.78-33.84 55.29-33.39 56.29-33.51L56.29-33.51Q57.06-33.63 57.44-34.16 57.82-34.69 57.97-36.29 58.12-37.88 58.18-41.12L58.18-41.12Q58.24-44.07 58.3-45.58 58.35-47.08 58.59-47.64 58.83-48.2 59.24-48.32ZM71.04-29.5L71.04-29.5Q71.51-29.74 72.22-29.38 72.93-29.03 74.46-27.79L74.46-27.79Q75.17-27.2 76-26.43 76.82-25.67 76.94-25.43L76.94-25.43Q77.29-24.66 76.59-23.95 75.88-23.25 75.11-23.6L75.11-23.6Q74.76-23.78 74.02-24.34 73.28-24.9 72.46-25.58 71.63-26.26 71.01-26.85 70.39-27.44 70.27-27.61L70.27-27.61Q70.04-28.08 70.3-28.67 70.57-29.26 71.04-29.5ZM80.42-29.32L80.42-29.32Q80.89-29.5 81.31-29.32L81.31-29.32Q81.72-29.09 81.9-28.41 82.07-27.73 81.98-26.14 81.9-24.54 81.6-21.48L81.6-21.48Q81.36-18.88 81.45-17.73 81.54-16.58 82.46-16.28 83.37-15.99 85.44-15.87L85.44-15.87Q87.62-15.81 88.59-15.75 89.56-15.69 89.92-15.64 90.27-15.58 90.51-15.4L90.51-15.4Q91.1-15.1 91.07-14.4 91.04-13.69 90.45-13.39L90.45-13.39Q90.04-13.22 89.33-13.16 88.62-13.1 86.91-12.98L86.91-12.98Q84.67-12.92 83.37-12.74 82.07-12.57 81.28-12.1 80.48-11.62 79.8-10.56 79.12-9.5 78.06-7.61L78.06-7.61Q75.94-3.72 73.96-1.24 71.98 1.24 69.74 2.95L69.74 2.95Q66.97 5.02 66.38 3.84L66.38 3.84Q66.14 3.36 66.53 2.8 66.91 2.24 68.56 0.59L68.56 0.59Q71.87-2.71 73.84-5.93 75.82-9.15 75.82-11.21L75.82-11.21Q75.82-11.98 75.49-12.33 75.17-12.69 73.75-12.8 72.34-12.92 69.03-13.04L69.03-13.04Q66.85-13.16 66.2-13.45 65.55-13.75 65.67-14.57L65.67-14.57Q65.79-15.28 66.61-15.52 67.44-15.75 70.45-15.81L70.45-15.81Q73.22-15.93 74.79-16.14 76.35-16.34 77.15-17.14 77.94-17.94 78.33-19.74 78.71-21.54 79.12-24.72L79.12-24.72Q79.48-27.49 79.71-28.32 79.95-29.15 80.42-29.32ZM68.21-23.95L68.21-23.95Q68.68-24.25 69.3-23.98 69.92-23.72 71.28-22.71L71.28-22.71Q74.34-20.41 74.34-19.53L74.34-19.53Q74.34-19.06 73.87-18.56 73.4-18.05 72.87-18.05L72.87-18.05Q72.63-18.05 71.78-18.61 70.92-19.18 69.95-19.94 68.97-20.71 68.24-21.42 67.5-22.13 67.44-22.36L67.44-22.36Q67.38-22.77 67.59-23.25 67.79-23.72 68.21-23.95ZM81.66-8.85L81.66-8.85Q82.43-9.26 83.58-8.14 84.73-7.02 86.91-3.78L86.91-3.78Q89.45 0 89.89 1.62 90.33 3.25 88.92 3.36L88.92 3.36Q88.39 3.36 87.94 2.89 87.5 2.42 86.5 0.94L86.5 0.94Q85.97 0.18 84.7-1.71 83.43-3.6 82.19-5.43L82.19-5.43Q81.19-6.96 81.07-7.7 80.95-8.44 81.66-8.85Z" transform="translate(-2.3439998626708984, 48.69576644897461)"></path></g> <!----> <!----> <!----> <!----> <!----> <!----> <!----></g></g> <g data-gra="path-slogan" fill-rule="" class="tp-slogan" fill="#FFFFFF" transform="translate(5,60.14134979248047)"><rect x="0" height="1" y="3.8600001335144043" width="18.99872398376465"></rect> <rect height="1" y="3.8600001335144043" width="18.99872398376465" x="59.72872352600098"></rect> <g transform="translate(21.99872398376465,0)"><g transform="scale(1)"><path d="M3.09-7.59L0.19-7.59L0.19-8.58L7.13-8.58L7.13-7.59L4.22-7.59L4.22 0L3.09 0L3.09-7.59ZM13.83 0L12.98-2.48L9.52-2.48L8.63 0L7.45 0L10.69-8.58L12-8.58L15.09 0L13.83 0ZM11.25-7.31L9.89-3.52L12.56-3.52L11.30-7.31L11.25-7.31ZM22.97 0L19.50 0L19.50-8.58L23.02-8.58Q26.48-8.39 26.63-4.41L26.63-4.41Q26.44-0.09 22.97 0L22.97 0ZM22.83-7.64L20.67-7.64L20.67-0.98L22.92-0.98Q25.36-1.13 25.45-4.31L25.45-4.31Q25.41-7.55 22.83-7.64L22.83-7.64ZM33.75-3.19L33.75-8.58L34.92-8.58L34.92-3.05Q34.78 0.05 31.41 0.14L31.41 0.14Q28.27 0.05 28.13-2.86L28.13-2.86L28.13-8.58L29.30-8.58L29.30-3.19Q29.34-0.84 31.45-0.80L31.45-0.80Q33.75-0.84 33.75-3.19L33.75-3.19Z" transform="translate(-0.1875, 8.578125)"></path></g></g></g></g></g></g><defs v-gra="od"></defs></svg>"""
    cairosvg.svg2png(svg_string,write_to='tadu.png',scale=4)
    # name, slogan, icon = split_svg(svg_string)
    # boxes = [bbox(name), bbox(slogan), bbox(icon)]
    # # icon = icon.crop(box)
    # # draw = ImageDraw.Draw(icon)
    # # for box in boxes:
    # #     draw.rectangle(box,outline='green')
    # ubox = union_bbox(boxes)
    # texts = [Text(rect=box2rect(boxes[0], ubox)),
    #          Text(rect=box2rect(boxes[1], ubox))]
    # t = Template(icon.crop(ubox), texts)
    #
    # engine = Faker('si')
    # t.replace_text(engine=engine)
    # t.show()
